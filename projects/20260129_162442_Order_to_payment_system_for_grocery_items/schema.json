{
  "flow": {
    "system_name": "Grocery Order to Payment System",
    "sheets": [
      {
        "name": "Orders",
        "columns": [
          {
            "name": "Order ID",
            "type": "text",
            "description": "Unique order identifier"
          },
          {
            "name": "Customer Name",
            "type": "text",
            "description": "Customer name"
          },
          {
            "name": "Order Date",
            "type": "date",
            "description": "Date of order placement"
          },
          {
            "name": "Total",
            "type": "number",
            "description": "Total order amount"
          },
          {
            "name": "Status",
            "type": "text",
            "description": "Order status (e.g. pending, shipped, delivered)"
          }
        ]
      },
      {
        "name": "Order Items",
        "columns": [
          {
            "name": "Order ID",
            "type": "text",
            "description": "Reference to the Orders sheet"
          },
          {
            "name": "Item Name",
            "type": "text",
            "description": "Name of the grocery item"
          },
          {
            "name": "Quantity",
            "type": "number",
            "description": "Quantity of the item ordered"
          },
          {
            "name": "Unit Price",
            "type": "number",
            "description": "Price of the item per unit"
          }
        ]
      },
      {
        "name": "Payments",
        "columns": [
          {
            "name": "Payment ID",
            "type": "text",
            "description": "Unique payment identifier"
          },
          {
            "name": "Order ID",
            "type": "text",
            "description": "Reference to the Orders sheet"
          },
          {
            "name": "Payment Method",
            "type": "text",
            "description": "Payment method used (e.g. credit card, cash)"
          },
          {
            "name": "Amount",
            "type": "number",
            "description": "Amount paid"
          }
        ]
      },
      {
        "name": "Invoices",
        "columns": [
          {
            "name": "Invoice ID",
            "type": "text",
            "description": "Unique invoice identifier"
          },
          {
            "name": "Order ID",
            "type": "text",
            "description": "Reference to the Orders sheet"
          },
          {
            "name": "Invoice Date",
            "type": "date",
            "description": "Date of invoice generation"
          },
          {
            "name": "Total",
            "type": "number",
            "description": "Total invoice amount"
          }
        ]
      }
    ]
  },
  "formulas": {
    "formulas": [
      {
        "sheet": "Orders",
        "target_column": "Status",
        "start_row": 2,
        "formula": "=IF(Total>100, 'High Value', IF(Total>50, 'Medium Value', 'Low Value'))",
        "description": "Categorize orders based on total value"
      },
      {
        "sheet": "Payments",
        "target_column": "Amount",
        "start_row": 2,
        "formula": "=IF(Payment Method='Credit Card', Amount*0.95, Amount)",
        "description": "Apply 5% discount for credit card payments"
      },
      {
        "sheet": "Invoices",
        "target_column": "Total",
        "start_row": 2,
        "formula": "=Orders!Total",
        "description": "Reference total from Orders sheet"
      },
      {
        "sheet": "Order Items",
        "target_column": "Subtotal",
        "start_row": 2,
        "formula": "=Quantity*Unit Price",
        "description": "Calculate subtotal for each item"
      }
    ]
  }
}