{
  "flow": {
    "system_name": "Order to Payment Management System",
    "description": "A comprehensive system designed to manage the entire order processing workflow from order creation to payment receipt, ensuring efficient tracking, approval, and reporting.",
    "version": "1.0",
    "sheets": [
      {
        "name": "Customers",
        "columns": [
          {
            "name": "Customer_ID",
            "type": "text",
            "description": "Unique identifier for each customer.",
            "required": true,
            "validation": "Unique",
            "default_value": ""
          },
          {
            "name": "Customer_Name",
            "type": "text",
            "description": "Full name of the customer.",
            "required": true,
            "validation": "Not empty",
            "default_value": ""
          },
          {
            "name": "Email",
            "type": "email",
            "description": "Customer's email address.",
            "required": true,
            "validation": "Valid email format",
            "default_value": ""
          },
          {
            "name": "Phone_Number",
            "type": "text",
            "description": "Customer's contact number.",
            "required": false,
            "validation": "Valid phone format",
            "default_value": ""
          },
          {
            "name": "Created_Date",
            "type": "date",
            "description": "Date when the customer record was created.",
            "required": true,
            "validation": "",
            "default_value": "=TODAY()"
          },
          {
            "name": "Modified_Date",
            "type": "date",
            "description": "Date when the customer record was last modified.",
            "required": false,
            "validation": "",
            "default_value": "=TODAY()"
          },
          {
            "name": "Status",
            "type": "text",
            "description": "Current status of the customer (Active/Inactive).",
            "required": true,
            "validation": "Dropdown (Active, Inactive)",
            "default_value": "Active"
          }
        ],
        "description": "Stores customer information for order processing.",
        "primary_key": "Customer_ID",
        "relationships": [
          "Orders"
        ]
      },
      {
        "name": "Products",
        "columns": [
          {
            "name": "Product_ID",
            "type": "text",
            "description": "Unique identifier for each product.",
            "required": true,
            "validation": "Unique",
            "default_value": ""
          },
          {
            "name": "Product_Name",
            "type": "text",
            "description": "Name of the product.",
            "required": true,
            "validation": "Not empty",
            "default_value": ""
          },
          {
            "name": "Price",
            "type": "currency",
            "description": "Price of the product.",
            "required": true,
            "validation": "Positive number",
            "default_value": "0.00"
          },
          {
            "name": "Stock_Quantity",
            "type": "number",
            "description": "Available stock quantity of the product.",
            "required": true,
            "validation": "Non-negative integer",
            "default_value": "0"
          },
          {
            "name": "Created_Date",
            "type": "date",
            "description": "Date when the product record was created.",
            "required": true,
            "validation": "",
            "default_value": "=TODAY()"
          },
          {
            "name": "Modified_Date",
            "type": "date",
            "description": "Date when the product record was last modified.",
            "required": false,
            "validation": "",
            "default_value": "=TODAY()"
          },
          {
            "name": "Status",
            "type": "text",
            "description": "Current status of the product (Available/Unavailable).",
            "required": true,
            "validation": "Dropdown (Available, Unavailable)",
            "default_value": "Available"
          }
        ],
        "description": "Stores product details available for ordering.",
        "primary_key": "Product_ID",
        "relationships": [
          "Orders"
        ]
      },
      {
        "name": "Orders",
        "columns": [
          {
            "name": "Order_ID",
            "type": "text",
            "description": "Unique identifier for each order.",
            "required": true,
            "validation": "Unique",
            "default_value": ""
          },
          {
            "name": "Customer_ID",
            "type": "text",
            "description": "Identifier for the customer placing the order.",
            "required": true,
            "validation": "Exists in Customers",
            "default_value": ""
          },
          {
            "name": "Product_ID",
            "type": "text",
            "description": "Identifier for the product being ordered.",
            "required": true,
            "validation": "Exists in Products",
            "default_value": ""
          },
          {
            "name": "Order_Date",
            "type": "date",
            "description": "Date when the order was placed.",
            "required": true,
            "validation": "",
            "default_value": "=TODAY()"
          },
          {
            "name": "Quantity",
            "type": "number",
            "description": "Quantity of the product ordered.",
            "required": true,
            "validation": "Positive integer",
            "default_value": "1"
          },
          {
            "name": "Total_Amount",
            "type": "currency",
            "description": "Total amount for the order (calculated).",
            "required": true,
            "validation": "",
            "default_value": "=Price * Quantity"
          },
          {
            "name": "Order_Status",
            "type": "text",
            "description": "Current status of the order (Pending, Approved, Completed).",
            "required": true,
            "validation": "Dropdown (Pending, Approved, Completed)",
            "default_value": "Pending"
          },
          {
            "name": "Created_Date",
            "type": "date",
            "description": "Date when the order record was created.",
            "required": true,
            "validation": "",
            "default_value": "=TODAY()"
          },
          {
            "name": "Modified_Date",
            "type": "date",
            "description": "Date when the order record was last modified.",
            "required": false,
            "validation": "",
            "default_value": "=TODAY()"
          },
          {
            "name": "Status",
            "type": "text",
            "description": "Current status of the order (Active/Cancelled).",
            "required": true,
            "validation": "Dropdown (Active, Cancelled)",
            "default_value": "Active"
          }
        ],
        "description": "Tracks orders placed by customers.",
        "primary_key": "Order_ID",
        "relationships": [
          "Customers",
          "Products",
          "Invoices"
        ]
      },
      {
        "name": "Invoices",
        "columns": [
          {
            "name": "Invoice_ID",
            "type": "text",
            "description": "Unique identifier for each invoice.",
            "required": true,
            "validation": "Unique",
            "default_value": ""
          },
          {
            "name": "Order_ID",
            "type": "text",
            "description": "Identifier for the order associated with the invoice.",
            "required": true,
            "validation": "Exists in Orders",
            "default_value": ""
          },
          {
            "name": "Invoice_Date",
            "type": "date",
            "description": "Date when the invoice was generated.",
            "required": true,
            "validation": "",
            "default_value": "=TODAY()"
          },
          {
            "name": "Total_Amount",
            "type": "currency",
            "description": "Total amount of the invoice.",
            "required": true,
            "validation": "",
            "default_value": "=Total_Amount"
          },
          {
            "name": "Payment_Status",
            "type": "text",
            "description": "Current payment status of the invoice (Paid, Unpaid).",
            "required": true,
            "validation": "Dropdown (Paid, Unpaid)",
            "default_value": "Unpaid"
          },
          {
            "name": "Created_Date",
            "type": "date",
            "description": "Date when the invoice record was created.",
            "required": true,
            "validation": "",
            "default_value": "=TODAY()"
          },
          {
            "name": "Modified_Date",
            "type": "date",
            "description": "Date when the invoice record was last modified.",
            "required": false,
            "validation": "",
            "default_value": "=TODAY()"
          },
          {
            "name": "Status",
            "type": "text",
            "description": "Current status of the invoice (Active/Cancelled).",
            "required": true,
            "validation": "Dropdown (Active, Cancelled)",
            "default_value": "Active"
          }
        ],
        "description": "Manages invoice records for completed orders.",
        "primary_key": "Invoice_ID",
        "relationships": [
          "Orders"
        ]
      },
      {
        "name": "Process Tracking",
        "columns": [
          {
            "name": "Tracking_ID",
            "type": "text",
            "description": "Unique identifier for each tracking record.",
            "required": true,
            "validation": "Unique",
            "default_value": ""
          },
          {
            "name": "Order_ID",
            "type": "text",
            "description": "Identifier for the order being tracked.",
            "required": true,
            "validation": "Exists in Orders",
            "default_value": ""
          },
          {
            "name": "Invoice_ID",
            "type": "text",
            "description": "Identifier for the invoice being tracked.",
            "required": false,
            "validation": "Exists in Invoices",
            "default_value": ""
          },
          {
            "name": "Current_Status",
            "type": "text",
            "description": "Current status of the order/invoice (Pending, Approved, Completed).",
            "required": true,
            "validation": "Dropdown (Pending, Approved, Completed)",
            "default_value": "Pending"
          },
          {
            "name": "Approval_Date",
            "type": "date",
            "description": "Date when the order/invoice was approved.",
            "required": false,
            "validation": "",
            "default_value": ""
          },
          {
            "name": "Created_Date",
            "type": "date",
            "description": "Date when the tracking record was created.",
            "required": true,
            "validation": "",
            "default_value": "=TODAY()"
          },
          {
            "name": "Modified_Date",
            "type": "date",
            "description": "Date when the tracking record was last modified.",
            "required": false,
            "validation": "",
            "default_value": "=TODAY()"
          },
          {
            "name": "Status",
            "type": "text",
            "description": "Current status of the tracking record (Active/Cancelled).",
            "required": true,
            "validation": "Dropdown (Active, Cancelled)",
            "default_value": "Active"
          }
        ],
        "description": "Tracks the status and approvals of orders and invoices.",
        "primary_key": "Tracking_ID",
        "relationships": [
          "Orders",
          "Invoices"
        ]
      },
      {
        "name": "Reporting",
        "columns": [
          {
            "name": "Report_ID",
            "type": "text",
            "description": "Unique identifier for each report.",
            "required": true,
            "validation": "Unique",
            "default_value": ""
          },
          {
            "name": "Report_Date",
            "type": "date",
            "description": "Date when the report was generated.",
            "required": true,
            "validation": "",
            "default_value": "=TODAY()"
          },
          {
            "name": "Total_Orders",
            "type": "number",
            "description": "Total number of orders processed.",
            "required": true,
            "validation": "Non-negative integer",
            "default_value": "0"
          },
          {
            "name": "Total_Sales",
            "type": "currency",
            "description": "Total sales amount from processed orders.",
            "required": true,
            "validation": "Non-negative number",
            "default_value": "0.00"
          },
          {
            "name": "Total_Customers",
            "type": "number",
            "description": "Total number of unique customers.",
            "required": true,
            "validation": "Non-negative integer",
            "default_value": "0"
          },
          {
            "name": "Created_Date",
            "type": "date",
            "description": "Date when the report record was created.",
            "required": true,
            "validation": "",
            "default_value": "=TODAY()"
          },
          {
            "name": "Modified_Date",
            "type": "date",
            "description": "Date when the report record was last modified.",
            "required": false,
            "validation": "",
            "default_value": "=TODAY()"
          },
          {
            "name": "Status",
            "type": "text",
            "description": "Current status of the report (Active/Cancelled).",
            "required": true,
            "validation": "Dropdown (Active, Cancelled)",
            "default_value": "Active"
          }
        ],
        "description": "Aggregates data for reporting and analytics purposes.",
        "primary_key": "Report_ID",
        "relationships": [
          "Orders",
          "Invoices",
          "Customers"
        ]
      }
    ],
    "workflow_stages": [
      "Order Creation",
      "Order Approval",
      "Payment Processing",
      "Order Completion"
    ],
    "integrations": [
      "Payment Gateway API",
      "Inventory Management System"
    ]
  },
  "formulas": {
    "formulas": [
      {
        "sheet": "Orders",
        "target_column": "Total_Amount",
        "start_row": 2,
        "formula": "=IFERROR(VLOOKUP(Product_ID, Products!A:C, 3, FALSE) * Quantity, 0)",
        "description": "Calculates the total amount for the order by multiplying the product price with the ordered quantity.",
        "dependencies": [
          "Product_ID",
          "Quantity"
        ],
        "apply_to_all_rows": true
      },
      {
        "sheet": "Reporting",
        "target_column": "Total_Orders",
        "start_row": 2,
        "formula": "=IFERROR(COUNT(Orders!A:A), 0)",
        "description": "Counts the total number of orders processed.",
        "dependencies": [
          "Orders!A:A"
        ],
        "apply_to_all_rows": false
      },
      {
        "sheet": "Reporting",
        "target_column": "Total_Sales",
        "start_row": 2,
        "formula": "=IFERROR(SUM(Orders!F:F), 0)",
        "description": "Calculates the total sales amount from processed orders.",
        "dependencies": [
          "Orders!F:F"
        ],
        "apply_to_all_rows": false
      },
      {
        "sheet": "Reporting",
        "target_column": "Total_Customers",
        "start_row": 2,
        "formula": "=IFERROR(COUNTA(UNIQUE(Customers!A:A)), 0)",
        "description": "Counts the total number of unique customers.",
        "dependencies": [
          "Customers!A:A"
        ],
        "apply_to_all_rows": false
      },
      {
        "sheet": "Invoices",
        "target_column": "Total_Amount",
        "start_row": 2,
        "formula": "=IFERROR(VLOOKUP(Order_ID, Orders!A:F, 6, FALSE), 0)",
        "description": "Fetches the total amount from the corresponding order for the invoice.",
        "dependencies": [
          "Order_ID"
        ],
        "apply_to_all_rows": true
      },
      {
        "sheet": "Process Tracking",
        "target_column": "Approval_Date",
        "start_row": 2,
        "formula": "=IF(Current_Status = \"Approved\", TODAY(), \"\")",
        "description": "Sets the approval date to today if the current status is 'Approved'.",
        "dependencies": [
          "Current_Status"
        ],
        "apply_to_all_rows": true
      },
      {
        "sheet": "Customers",
        "target_column": "Status",
        "start_row": 2,
        "formula": "=IF(Modified_Date < TODAY() - 365, \"Inactive\", \"Active\")",
        "description": "Determines the status of the customer based on the last modified date; inactive if modified over a year ago.",
        "dependencies": [
          "Modified_Date"
        ],
        "apply_to_all_rows": true
      },
      {
        "sheet": "Products",
        "target_column": "Status",
        "start_row": 2,
        "formula": "=IF(Stock_Quantity > 0, \"Available\", \"Unavailable\")",
        "description": "Determines the status of the product based on stock quantity; available if stock is greater than zero.",
        "dependencies": [
          "Stock_Quantity"
        ],
        "apply_to_all_rows": true
      }
    ],
    "validation_rules": [],
    "conditional_formatting": []
  },
  "metadata": {
    "project_info": {
      "prompt": "Create order to payment system",
      "created_at": "2026-01-29T22:24:58.133258",
      "execution_time_seconds": 133.36
    },
    "spreadsheet": {
      "id": "1xVeVFJJ_2s-RJ_i-grJ2T8MAyuGrmg66wYDufkbW9Bs",
      "url": "https://docs.google.com/spreadsheets/d/1xVeVFJJ_2s-RJ_i-grJ2T8MAyuGrmg66wYDufkbW9Bs",
      "edit_url": "https://docs.google.com/spreadsheets/d/1xVeVFJJ_2s-RJ_i-grJ2T8MAyuGrmg66wYDufkbW9Bs/edit"
    },
    "system": {
      "name": "Order to Payment Management System",
      "description": "A comprehensive system designed to manage the entire order processing workflow from order creation to payment receipt, ensuring efficient tracking, approval, and reporting.",
      "version": "1.0",
      "total_sheets": 6,
      "workflow_stages": [
        "Order Creation",
        "Order Approval",
        "Payment Processing",
        "Order Completion"
      ],
      "integrations": [
        "Payment Gateway API",
        "Inventory Management System"
      ]
    },
    "structure": {
      "sheets": [
        {
          "name": "Customers",
          "description": "Stores customer information for order processing.",
          "columns": [
            {
              "name": "Customer_ID",
              "type": "text",
              "required": true,
              "description": "Unique identifier for each customer."
            },
            {
              "name": "Customer_Name",
              "type": "text",
              "required": true,
              "description": "Full name of the customer."
            },
            {
              "name": "Email",
              "type": "email",
              "required": true,
              "description": "Customer's email address."
            },
            {
              "name": "Phone_Number",
              "type": "text",
              "required": false,
              "description": "Customer's contact number."
            },
            {
              "name": "Created_Date",
              "type": "date",
              "required": true,
              "description": "Date when the customer record was created."
            },
            {
              "name": "Modified_Date",
              "type": "date",
              "required": false,
              "description": "Date when the customer record was last modified."
            },
            {
              "name": "Status",
              "type": "text",
              "required": true,
              "description": "Current status of the customer (Active/Inactive)."
            }
          ],
          "primary_key": "Customer_ID",
          "relationships": [
            "Orders"
          ]
        },
        {
          "name": "Products",
          "description": "Stores product details available for ordering.",
          "columns": [
            {
              "name": "Product_ID",
              "type": "text",
              "required": true,
              "description": "Unique identifier for each product."
            },
            {
              "name": "Product_Name",
              "type": "text",
              "required": true,
              "description": "Name of the product."
            },
            {
              "name": "Price",
              "type": "currency",
              "required": true,
              "description": "Price of the product."
            },
            {
              "name": "Stock_Quantity",
              "type": "number",
              "required": true,
              "description": "Available stock quantity of the product."
            },
            {
              "name": "Created_Date",
              "type": "date",
              "required": true,
              "description": "Date when the product record was created."
            },
            {
              "name": "Modified_Date",
              "type": "date",
              "required": false,
              "description": "Date when the product record was last modified."
            },
            {
              "name": "Status",
              "type": "text",
              "required": true,
              "description": "Current status of the product (Available/Unavailable)."
            }
          ],
          "primary_key": "Product_ID",
          "relationships": [
            "Orders"
          ]
        },
        {
          "name": "Orders",
          "description": "Tracks orders placed by customers.",
          "columns": [
            {
              "name": "Order_ID",
              "type": "text",
              "required": true,
              "description": "Unique identifier for each order."
            },
            {
              "name": "Customer_ID",
              "type": "text",
              "required": true,
              "description": "Identifier for the customer placing the order."
            },
            {
              "name": "Product_ID",
              "type": "text",
              "required": true,
              "description": "Identifier for the product being ordered."
            },
            {
              "name": "Order_Date",
              "type": "date",
              "required": true,
              "description": "Date when the order was placed."
            },
            {
              "name": "Quantity",
              "type": "number",
              "required": true,
              "description": "Quantity of the product ordered."
            },
            {
              "name": "Total_Amount",
              "type": "currency",
              "required": true,
              "description": "Total amount for the order (calculated)."
            },
            {
              "name": "Order_Status",
              "type": "text",
              "required": true,
              "description": "Current status of the order (Pending, Approved, Completed)."
            },
            {
              "name": "Created_Date",
              "type": "date",
              "required": true,
              "description": "Date when the order record was created."
            },
            {
              "name": "Modified_Date",
              "type": "date",
              "required": false,
              "description": "Date when the order record was last modified."
            },
            {
              "name": "Status",
              "type": "text",
              "required": true,
              "description": "Current status of the order (Active/Cancelled)."
            }
          ],
          "primary_key": "Order_ID",
          "relationships": [
            "Customers",
            "Products",
            "Invoices"
          ]
        },
        {
          "name": "Invoices",
          "description": "Manages invoice records for completed orders.",
          "columns": [
            {
              "name": "Invoice_ID",
              "type": "text",
              "required": true,
              "description": "Unique identifier for each invoice."
            },
            {
              "name": "Order_ID",
              "type": "text",
              "required": true,
              "description": "Identifier for the order associated with the invoice."
            },
            {
              "name": "Invoice_Date",
              "type": "date",
              "required": true,
              "description": "Date when the invoice was generated."
            },
            {
              "name": "Total_Amount",
              "type": "currency",
              "required": true,
              "description": "Total amount of the invoice."
            },
            {
              "name": "Payment_Status",
              "type": "text",
              "required": true,
              "description": "Current payment status of the invoice (Paid, Unpaid)."
            },
            {
              "name": "Created_Date",
              "type": "date",
              "required": true,
              "description": "Date when the invoice record was created."
            },
            {
              "name": "Modified_Date",
              "type": "date",
              "required": false,
              "description": "Date when the invoice record was last modified."
            },
            {
              "name": "Status",
              "type": "text",
              "required": true,
              "description": "Current status of the invoice (Active/Cancelled)."
            }
          ],
          "primary_key": "Invoice_ID",
          "relationships": [
            "Orders"
          ]
        },
        {
          "name": "Process Tracking",
          "description": "Tracks the status and approvals of orders and invoices.",
          "columns": [
            {
              "name": "Tracking_ID",
              "type": "text",
              "required": true,
              "description": "Unique identifier for each tracking record."
            },
            {
              "name": "Order_ID",
              "type": "text",
              "required": true,
              "description": "Identifier for the order being tracked."
            },
            {
              "name": "Invoice_ID",
              "type": "text",
              "required": false,
              "description": "Identifier for the invoice being tracked."
            },
            {
              "name": "Current_Status",
              "type": "text",
              "required": true,
              "description": "Current status of the order/invoice (Pending, Approved, Completed)."
            },
            {
              "name": "Approval_Date",
              "type": "date",
              "required": false,
              "description": "Date when the order/invoice was approved."
            },
            {
              "name": "Created_Date",
              "type": "date",
              "required": true,
              "description": "Date when the tracking record was created."
            },
            {
              "name": "Modified_Date",
              "type": "date",
              "required": false,
              "description": "Date when the tracking record was last modified."
            },
            {
              "name": "Status",
              "type": "text",
              "required": true,
              "description": "Current status of the tracking record (Active/Cancelled)."
            }
          ],
          "primary_key": "Tracking_ID",
          "relationships": [
            "Orders",
            "Invoices"
          ]
        },
        {
          "name": "Reporting",
          "description": "Aggregates data for reporting and analytics purposes.",
          "columns": [
            {
              "name": "Report_ID",
              "type": "text",
              "required": true,
              "description": "Unique identifier for each report."
            },
            {
              "name": "Report_Date",
              "type": "date",
              "required": true,
              "description": "Date when the report was generated."
            },
            {
              "name": "Total_Orders",
              "type": "number",
              "required": true,
              "description": "Total number of orders processed."
            },
            {
              "name": "Total_Sales",
              "type": "currency",
              "required": true,
              "description": "Total sales amount from processed orders."
            },
            {
              "name": "Total_Customers",
              "type": "number",
              "required": true,
              "description": "Total number of unique customers."
            },
            {
              "name": "Created_Date",
              "type": "date",
              "required": true,
              "description": "Date when the report record was created."
            },
            {
              "name": "Modified_Date",
              "type": "date",
              "required": false,
              "description": "Date when the report record was last modified."
            },
            {
              "name": "Status",
              "type": "text",
              "required": true,
              "description": "Current status of the report (Active/Cancelled)."
            }
          ],
          "primary_key": "Report_ID",
          "relationships": [
            "Orders",
            "Invoices",
            "Customers"
          ]
        }
      ]
    },
    "statistics": {
      "total_columns": 48,
      "sheets_with_relationships": 6
    }
  }
}